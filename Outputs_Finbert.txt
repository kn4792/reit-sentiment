PS C:\Users\konid\Documents\Capstone\reit-sentiment-analysis> python scripts/finbert_sentiment.py
================================================================================
STAGE 1: FINBERT SENTIMENT EXTRACTION
================================================================================

ğŸ“‚ Loading data...
  âœ“ Loaded 28,252 reviews
  âœ“ Columns: ['title', 'rating', 'date', 'pros', 'cons', 'company', 'ticker', 'property_type', 'scrape_date', 'glassdoor_url']

ğŸ“ Preparing text for sentiment analysis...
  âœ“ Prepared 28,252 reviews with valid text
  âœ“ Excluded 0 empty reviews

ğŸ¤– Loading FinBERT model...
  Model: ProsusAI/finbert

C:\Users\konid\anaconda3\lib\site-packages\huggingface_hub\file_download.py:942: FutureWarning: `resume_download` is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use `force_download=True`.
  warnings.warn(
  âœ“ Model loaded on: cuda

ğŸ” Running sentiment analysis on 28,252 reviews...
  Batch size: 32
  Max sequence length: 512

Processing batches: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 883/883 [07:10<00:00,  2.05it/s] 

  âœ“ Sentiment analysis complete!

ğŸ“Š Combining results with original data...
  âœ“ Final dataset: 28,486 reviews


Sentiment Distribution:
   neutral: 16,193 ( 56.8%)
  negative: 10,184 ( 35.8%)
  positive:  2,109 (  7.4%)

Sentiment Score Statistics:
  Mean:   -0.2251
  Median: -0.1226
  Std:     0.4615
  Min:    -0.9651
  Max:     0.9433

ğŸ’¾ Saving results...
  âœ“ Saved: data/processed\finbert_sentiment_scores.csv
  âœ“ Saved: data/processed\finbert_summary_stats.json

ğŸ” Sample Results:

POSITIVE Example:
  Company: AMH
  Rating: 5.0
  Sentiment Score: 0.554
  Pros: Rapid Growth, Opportunity and energy...
  Cons: Still in a start up mode-...

NEGATIVE Example:
  Company: American Tower Corporation
  Rating: 3.0
  Sentiment Score: -0.887
  Pros: Met some nice people working there. Management was relaxed and did not micromanage....
  Cons: Lacked the resources needed to make this job manageable. No support from corporate for new resources...

NEUTRAL Example:
  Company: Camden Property Trust
  Rating: 5.0
  Sentiment Score: -0.292
  Pros: Amazing Benefits, Lots of opportunity for job growth, forward thinking, fair pay, family is welcome,...
  Cons: limited manager roles within the regions...

================================================================================
âœ… STAGE 1 COMPLETE
================================================================================

ğŸ“ Output Files:
  â€¢ data/processed\finbert_sentiment_scores.csv
  â€¢ data/processed\finbert_summary_stats.json

ğŸš€ Next Step:
  Run Stage 2: python scripts/aggregate_year.py
================================================================================




PS C:\Users\konid\Documents\Capstone\reit-sentiment-analysis> python scripts/aggregrate_firm_year.py
================================================================================
STAGE 2: AGGREGATE TO FIRM-YEAR LEVEL
================================================================================

ğŸ“‚ Loading sentiment data...
  âœ“ Loaded 28,486 reviews

ğŸ”§ Preparing variables...
  âœ“ Date range: 2008-06-11 00:00:00 to 2025-11-19 00:00:00
  âœ“ Years: 2008 to 2025
  âœ“ Pre-ChatGPT reviews: 18,796
  âœ“ Post-ChatGPT reviews: 9,690

ğŸ¢ Classifying property types...
  Property Type Distribution:
       Residential                6,362
       Self-storage               6,232
       Health Care                2,363
    ğŸ”§ Data Center                2,166
       Mortgage                   2,114
       Industrial                 2,003
       Retail                     1,918
    ğŸ”§ Telecommunications         1,894
       Specialty                  1,121
       Office                       758
       Timberland                   731
       Diversified                  630
       Lodging/Resorts              192
       Gaming                         2

  âœ“ Technology-intensive REITs: 4,060 reviews
  âœ“ Data Center REITs: 2,166 reviews

ğŸ“Š Aggregating to firm-year level...
  âœ“ Using 28,486 reviews with valid sentiment
  âœ“ Created 1,144 firm-year observations
  âœ“ Unique firms: 115
  âœ“ Year range: 2008 to 2025

ğŸ“ˆ Calculating additional metrics...
  âœ“ Sentiment dispersion calculated
  âœ“ Sentiment agreement calculated
  âœ“ Rating-sentiment alignment calculated

ğŸ” Applying quality filters...
  âœ“ Minimum reviews per firm-year: 3
  âœ“ Filtered: 1,144 â†’ 808 firm-years
  âœ“ Excluded: 336 firm-years with <3 reviews

ğŸ“Š Summary Statistics:

Firm-Year Dataset:
  Observations: 808
  Firms: 91
  Years: 2008 - 2025
  Avg reviews per firm-year: 34.7

ChatGPT Treatment Distribution:
  Pre-ChatGPT:   603 firm-years (74.6%)
  Post-ChatGPT:  205 firm-years (25.4%)

Property Type Distribution (Firm-Years):
  Residential                155 ( 19.2%)
  Retail                     138 ( 17.1%)
  Office                      97 ( 12.0%)
  Self-storage                66 (  8.2%)
  Diversified                 60 (  7.4%)
  Health Care                 60 (  7.4%)
  Mortgage                    56 (  6.9%)
  Telecommunications          44 (  5.4%)
  Industrial                  41 (  5.1%)
  Specialty                   34 (  4.2%)
  Lodging/Resorts             22 (  2.7%)
  Timberland                  18 (  2.2%)
  Data Center                 17 (  2.1%)

Sentiment Statistics:
  Mean sentiment:      -0.2526
  Median sentiment:    -0.2547
  Mean dispersion:      0.4344
  Mean agreement:       0.6258

Sentiment by Property Type:
  Data Center               -0.1835 (n=17)
  Office                    -0.2339 (n=97)
  Residential               -0.2325 (n=155)
  Retail                    -0.2462 (n=138)
  Industrial                -0.2750 (n=41)

Sentiment: Pre vs Post ChatGPT
  Pre-ChatGPT:  -0.2503
  Post-ChatGPT: -0.2591
  Difference:   -0.0088 (-3.5%)
  T-test: t=0.594, p=0.5529
  âœ— Not statistically significant

ğŸ’¾ Saving results...
  âœ“ Saved: data/processed\firm_year_sentiment.csv
  âœ“ Saved: data/processed\firm_year_summary_stats.json

================================================================================
âœ… STAGE 2 COMPLETE
================================================================================

ğŸ“ Output Files:
  â€¢ data/processed\firm_year_sentiment.csv
  â€¢ data/processed\firm_year_summary_stats.json

ğŸš€ Next Step:
  Run Stage 3: python scripts/descriptive_analysis.py
================================================================================

================================================================================
STAGE 3: DESCRIPTIVE ANALYSIS AND VISUALIZATION
================================================================================

ğŸ“‚ Loading data...
  âœ“ Loaded 808 firm-year observations
  âœ“ Columns: 24

ğŸ“Š Creating descriptive statistics tables...
  âœ“ Saved: summary_statistics.csv
  âœ“ Saved: stats_by_property_type.csv
  âœ“ Saved: stats_pre_post_chatgpt.csv
  âœ“ Saved: stats_by_year.csv

ğŸ”— Creating correlation matrix...
  âœ“ Saved: correlation_matrix.csv
  âœ“ Saved: correlation_heatmap.png

ğŸ“ˆ Creating time trend visualizations...
  âœ“ Saved: time_trends.png
  âœ“ Saved: review_volume_trend.png

ğŸ”„ Creating Pre/Post ChatGPT comparisons...
  âœ“ Saved: pre_post_chatgpt_comparison.png

ğŸ¢ Creating property type comparisons...
  âœ“ Saved: sentiment_by_property_type.png
  âœ“ Saved: tech_vs_traditional_comparison.png

ğŸ“Š Creating sentiment distribution plots...
  âœ“ Saved: sentiment_distributions.png

ğŸ“ Creating summary report...
  âœ“ Saved: analysis_summary_report.txt

================================================================================
âœ… STAGE 3 COMPLETE
================================================================================

ğŸ“ Output Directory: data/results/descriptive_stats

ğŸ“Š Generated Files:
  Tables:
    â€¢ summary_statistics.csv
    â€¢ stats_by_property_type.csv
    â€¢ stats_pre_post_chatgpt.csv
    â€¢ stats_by_year.csv
    â€¢ correlation_matrix.csv

  Figures:
    â€¢ correlation_heatmap.png
    â€¢ time_trends.png
    â€¢ review_volume_trend.png
    â€¢ pre_post_chatgpt_comparison.png
    â€¢ sentiment_by_property_type.png
    â€¢ tech_vs_traditional_comparison.png
    â€¢ sentiment_distributions.png

  Reports:
    â€¢ analysis_summary_report.txt

ğŸš€ Next Step:
  Run Stage 4: python scripts/export_analysis_dataset.py
================================================================================